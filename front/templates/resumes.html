{% extends "base.html" %}

{% block title %}–°–ø–∏—Å–æ–∫ —Ä–µ–∑—é–º–µ{% endblock %}
{% block title_header %}–°–ø–∏—Å–æ–∫ —Ä–µ–∑—é–º–µ{% endblock %}
{% block content %}
<style>
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Ä–µ–∑—é–º–µ */
    .resume-card {
        border-radius: 10px;
        background-color: #ffffff;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        padding: 20px;
        transition: transform 0.2s, box-shadow 0.2s;
    }

    .resume-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ */
    .btn-success {
        font-weight: bold;
        font-size: 16px;
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
    body {
        background-color: #f0f4f7;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–æ–ª—è –ø–æ–∏—Å–∫–∞ */
    #searchInput {
        font-size: 1.2rem;
        padding: 10px;
        border-radius: 8px;
    }

    .form-control:focus {
        border-color: #80bdff;
        box-shadow: 0 0 5px rgba(0, 123, 255, 0.25);
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
    .page-title {
        text-align: center;
        font-weight: bold;
        font-size: 2.5rem;
        color: #007bff;
        margin-top: 20px;
        margin-bottom: 20px;
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ */
    .modal-header {
        border-bottom: 1px solid #dee2e6;
    }
</style>
</style>

<!-- –ü–æ–ª–µ –ø–æ–∏—Å–∫–∞ -->
<div class="row mb-4">
    <div class="col-md-12">
        <input type="text" class="form-control form-control-lg" id="searchInput" placeholder="üîç –ü–æ–∏—Å–∫ —Ä–µ–∑—é–º–µ...">
    </div>
</div>

<!-- –°–ø–∏—Å–æ–∫ —Ä–µ–∑—é–º–µ -->
<div id="resumeList" class="list-group">
    {% for resume in items %}
        <div class="list-group-item list-group-item-action mb-3 vacancy-card">
            <div>
                <h5 class="text-primary vacancy-title">{{ resume.full_name }}</h5>
                <p class="mb-1"><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> <span class="resume-phone">{{ resume.contact_info.phone }}</span></p>
                <p class="mb-1"><strong>Email:</strong> <span class="resume-email">{{ resume.contact_info.email }}</span></p>
                <p class="mb-1"><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> {{ resume.summary }}</p>
                <p class="mb-1"><strong>–ù–∞–≤—ã–∫–∏:</strong> {{ resume.skills | join(', ') }}</p>
            </div>
        </div>
    {% endfor %}
</div>

<!-- JavaScript –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ä–µ–∑—é–º–µ -->
<script>
    document.getElementById('searchInput').addEventListener('input', function() {
        const query = this.value.toLowerCase();
        const resumes = document.querySelectorAll('#resumeList .list-group-item');

        resumes.forEach(function(resume) {
            const fullName = resume.querySelector('.vacancy-title').textContent.toLowerCase();
            const phone = resume.querySelector('.resume-phone').textContent.toLowerCase();
            const email = resume.querySelector('.resume-email').textContent.toLowerCase();
            const summary = resume.querySelector('.mb-1').textContent.toLowerCase();
            const skills = resume.textContent.toLowerCase();

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ —Ç–µ–∫—Å—Ç —Ä–µ–∑—é–º–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
            if (fullName.includes(query) || phone.includes(query) || email.includes(query) || summary.includes(query) || skills.includes(query)) {
                resume.style.display = 'block';
            } else {
                resume.style.display = 'none';
            }
        });
    });
</script>

{% endblock %}
