{% extends "base.html" %}

{% block title %}–°–ø–∏—Å–æ–∫ —Ä–µ–∑—é–º–µ{% endblock %}
{% block title_header %}–°–ø–∏—Å–æ–∫ —Ä–µ–∑—é–º–µ{% endblock %}

{% block content %}
<style>
    /* –°—Ç–∏–ª–∏ –¥–ª—è –∏–∫–æ–Ω–∫–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è */
/* –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Ä–µ–∑—é–º–µ */
.resume-card {
    border-radius: 10px;
    background-color: #ffffff;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    padding: 20px;
    margin-bottom: 20px;
    transition: transform 0.2s, box-shadow 0.2s;
    border-left: 5px solid #28a745;
    position: relative;
}

/* –ò–∫–æ–Ω–∫–∞ –≤–æ—Å–∫–ª–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∑–Ω–∞–∫–∞ */
.alert-icon {
    font-size: 1.5rem;
    color: #dc3545; /* –ö—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç */
    display: flex;
    align-items: center;
    justify-content: center;
}

/* –†–∞–∑–º–µ—Ä –∏–∫–æ–Ω–∫–∏ –Ω–µ–º–Ω–æ–≥–æ —É–≤–µ–ª–∏—á–µ–Ω –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ */
.alert-icon i {
    font-size: 1.75rem;
}

    /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Ä–µ–∑—é–º–µ */
    .resume-card {
        border-radius: 10px;
        background-color: #ffffff;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        padding: 20px;
        margin-bottom: 20px;
        transition: transform 0.2s, box-shadow 0.2s;
        border-left: 5px solid #28a745;
    }

    .resume-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
        border-left: 5px solid #66bb6a;
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ */
    .btn-success {
        font-weight: bold;
        font-size: 16px;
        background-color: #28a745;
        border: none;
        color: #fff;
    }

    .btn-success:hover {
        background-color: #66bb6a;
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
    body {
        background-color: #f0f4f7;
        font-family: 'Roboto', sans-serif;
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–æ–ª—è –ø–æ–∏—Å–∫–∞ */
    #searchInput {
        font-size: 1.2rem;
        padding: 10px;
        border-radius: 8px;
        border: 1px solid #28a745;
    }

    .form-control:focus {
        border-color: #66bb6a;
        box-shadow: 0 0 5px rgba(102, 187, 106, 0.5);
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
    .page-title {
        text-align: center;
        font-weight: bold;
        font-size: 2.5rem;
        color: #28a745;
        margin-top: 20px;
        margin-bottom: 20px;
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ */
    .modal-header {
        border-bottom: 2px solid #28a745;
    }

    .modal-title {
        color: #28a745;
    }

    /* –¢–µ–∫—Å—Ç–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
    .resume-title {
        color: #28a745;
        font-weight: bold;
    }

    .resume-info {
        color: #333;
    }
</style>

<!-- –ü–æ–ª–µ –ø–æ–∏—Å–∫–∞ -->
<div class="row mb-4">
    <div class="col-md-12">
        <input type="text" class="form-control form-control-lg" id="searchInput" placeholder="üîç –ü–æ–∏—Å–∫ —Ä–µ–∑—é–º–µ...">
    </div>
</div>

<!-- –°–ø–∏—Å–æ–∫ —Ä–µ–∑—é–º–µ -->
<div id="resumeList">
    {% for resume in items %}
        <div class="resume-card">
            <div>
                <h5 class="resume-title">{{ resume.full_name }}</h5>
                <p class="resume-info mb-1"><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> <span class="resume-phone">{{ resume.contact_info.phone }}</span></p>
                <p class="resume-info mb-1"><strong>Email:</strong> <span class="resume-email">{{ resume.contact_info.email }}</span></p>
                <p class="resume-info mb-1"><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> {{ resume.summary }}</p>
                <p class="resume-info mb-1"><strong>–ù–∞–≤—ã–∫–∏:</strong> {{ resume.skills | join(', ') }}</p>
            </div>
                        <!-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ -->
            {% if resume.reliability and not resume.reliability.reliable %}
                <!-- –ö—Ä–∞—Å–Ω—ã–π –≤–æ—Å–∫–ª–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –∑–Ω–∞–∫ -->
           <!-- –í—Å–µ–≥–¥–∞ –≤–∏–¥–∏–º—ã–π –≤–æ—Å–∫–ª–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –∑–Ω–∞–∫ -->
            <div class="alert-icon position-absolute top-0 end-0 m-3">
                <i class="bi bi-exclamation-circle-fill text-danger"></i>
            </div>
            {% endif %}
        </div>
    {% endfor %}
</div>

<!-- JavaScript –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ä–µ–∑—é–º–µ -->
<script>
    document.getElementById('searchInput').addEventListener('input', function() {
        const query = this.value.toLowerCase();
        const resumes = document.querySelectorAll('#resumeList .resume-card');

        resumes.forEach(function(resume) {
            const fullName = resume.querySelector('.resume-title').textContent.toLowerCase();
            const phone = resume.querySelector('.resume-phone').textContent.toLowerCase();
            const email = resume.querySelector('.resume-email').textContent.toLowerCase();
            const summary = resume.querySelector('.resume-info').textContent.toLowerCase();
            const skills = resume.textContent.toLowerCase();

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ —Ç–µ–∫—Å—Ç —Ä–µ–∑—é–º–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
            if (fullName.includes(query) || phone.includes(query) || email.includes(query) || summary.includes(query) || skills.includes(query)) {
                resume.style.display = 'block';
            } else {
                resume.style.display = 'none';
            }
        });
    });
</script>

{% endblock %}
